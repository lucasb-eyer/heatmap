<!doctype html>
<html>
  <head>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript" src="./heatmap.js"></script>
  </head>

  <body>
    <script type="text/javascript">
    $( document ).ready(function() {
      console.log('Scripts loaded.');

      var stack = Runtime.stackSave();

      var offset = Module._malloc(4)

      var heatmapNew = Module.cwrap('heatmap_new', 'object', ['number', 'number']);
      var heatmapFree = Module.cwrap('heatmap_free', 'null', ['object']);

      var hm = heatmapNew([100, 100]);
      console.log(hm);

      heatmapFree([hm]);

      Runtime.stackRestore(stack);
    });
    </script>
  </body>
</html>